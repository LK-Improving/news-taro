<template name="el"><block tt:if="{{n.name==='img'}}"><image tt:if="{{(opts[1]&&!ctrl[i])||ctrl[i]<0}}" class="_img" style="{{n.attrs.style}}" src="{{ctrl[i]<0?opts[2]:opts[1]}}" mode="widthFix"/><image id="{{n.attrs.id||('n'+i)}}" class="_img {{n.attrs.class}}" style="{{ctrl['e'+i]?'border:1px dashed black;padding:3px;':''}}{{ctrl[i]===-1?'display:none;':''}}width:{{ctrl[i]||1}}px;height:{{ctrl['h'+i]||1}}px;{{n.attrs.style}}" src="{{n.attrs.src}}" mode="{{!n.h?'widthFix':(!n.w?'heightFix':'')}}" lazy-load="{{opts[0]}}" data-i="{{i}}" bindload="imgLoad" binderror="mediaError" catchtap="imgTap" bindlongpress="noop"/></block><block tt:elif="{{n.type==='text'}}"><text tt:if="{{!ctrl['e'+i]}}" data-i="{{i}}" decode="{{!opts[5]}}" bindtap="editStart">{{n.text}}<text tt:if="{{!n.text}}" style="color:gray">{{opts[6]||'请输入'}}</text></text><text tt:elif="{{ctrl['e'+i]===1}}" data-i="{{i}}" style="border:1px dashed black;min-width:50px;width:auto;padding:5px;display:block" catchtap="editStart">{{n.text}}<text tt:if="{{!n.text}}" style="color:gray">{{opts[6]||'请输入'}}</text></text><textarea tt:else style="border:1px dashed black;min-width:50px;width:auto;padding:5px" auto-height maxlength="-1" focus="{{ctrl['e'+i]===3}}" value="{{n.text}}" data-i="{{i}}" bindinput="editInput" bindblur="editEnd"/></block><text tt:elif="{{n.name==='br'}}">\n</text><view tt:elif="{{n.name==='a'}}" id="{{n.attrs.id}}" class="{{n.attrs.href?'_a ':''}}{{n.attrs.class}}" hover-class="_hover" style="display:inline;{{n.attrs.style}}" data-i="{{i}}" catchtap="linkTap"><template is="node" data="{{childs:n.children,path:i+'_',opts:opts,ctrl:ctrl}}"></template></view><video bindtap="mediaTap" tt:elif="{{n.name==='video'}}" id="{{n.attrs.id}}" class="{{n.attrs.class}}" style="{{n.attrs.style}}" autoplay="{{n.attrs.autoplay}}" controls="{{n.attrs.controls}}" loop="{{n.attrs.loop}}" muted="{{n.attrs.muted}}" object-fit="{{n.attrs['object-fit']}}" poster="{{n.attrs.poster}}" src="{{n.src[ctrl[i]||0]}}" data-i="{{i}}" bindplay="play" binderror="mediaError"/><rich-text tt:else id="{{n.attrs.id}}" style="{{n.f}}" nodes="{{[n]}}"/></template><template name="node"><block tt:for="{{childs}}" tt:for-item="n" tt:for-index="i" tt:key="i"><template tt:if="{{opts[5]?(!n.children||n.name=='a'):(opts[5]?true:!n.c)}}" is="el" data="{{n:n,i:path+i,opts:opts,ctrl:ctrl}}"/><view tt:else data-i="{{path+i}}" bindtap="nodeTap" id="{{n.attrs.id}}" class="_{{n.name}} {{n.attrs.class}}" style="{{ctrl['e'+path+i]?'border:1px solid black;padding:5px;display:block;':''}}{{n.attrs.style}}"><template is="node" data="{{childs:n.children,path:path+i+'_',opts:opts,ctrl:ctrl}}"></template></view></block></template><template is="node" data="{{childs:childs,path:'',opts:opts,ctrl:ctrl}}"></template>